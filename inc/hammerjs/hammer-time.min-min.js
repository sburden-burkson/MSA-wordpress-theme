!function(){var t=window.MutationObserver||window.WebKitMutationObserver,e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;if(void 0===document.documentElement.style["touch-action"]&&!document.documentElement.style["-ms-touch-action"]&&e&&t){window.Hammer=window.Hammer||{};var n=/touch-action[:][\s]*(none)[^;'"]*/,o=/touch-action[:][\s]*(manipulation)[^;'"]*/,i=/touch-action/,a=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),r=function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),u=r&&a;window.Hammer.time={getTouchAction:function(t){return this.checkStyleString(t.getAttribute("style"))},checkStyleString:function(t){return i.test(t)?n.test(t)?"none":!o.test(t)||"manipulation":void 0},shouldHammer:function(t){var e=this.hasParent(t.target);return!(!e||u&&!(Date.now()-t.target.lastStart<125))&&e},touchHandler:function(t){var e=t.target.getBoundingClientRect(),n=e.top!==this.pos.top||e.left!==this.pos.left,o=this.shouldHammer(t);("none"===o||!1===n&&"manipulation"===o)&&("touchend"===t.type&&(t.target.focus(),setTimeout(function(){t.target.click()},0)),t.preventDefault()),this.scrolled=!1,delete t.target.lastStart},touchStart:function(t){this.pos=t.target.getBoundingClientRect(),u&&this.hasParent(t.target)&&(t.target.lastStart=Date.now())},styleWatcher:function(t){t.forEach(this.styleUpdater,this)},styleUpdater:function(t){if(t.target.updateNext)return void(t.target.updateNext=!1);var e=this.getTouchAction(t.target);return e?void("none"!==e&&(t.target.hadTouchNone=!1)):void(!e&&(t.oldValue&&this.checkStyleString(t.oldValue)||t.target.hadTouchNone)&&(t.target.hadTouchNone=!0,t.target.updateNext=!1,t.target.setAttribute("style",t.target.getAttribute("style")+" touch-action: none;")))},hasParent:function(t){for(var e,n=t;n&&n.parentNode;n=n.parentNode)if(e=this.getTouchAction(n))return e;return!1},installStartEvents:function(){document.addEventListener("touchstart",this.touchStart.bind(this)),document.addEventListener("mousedown",this.touchStart.bind(this))},installEndEvents:function(){document.addEventListener("touchend",this.touchHandler.bind(this),!0),document.addEventListener("mouseup",this.touchHandler.bind(this),!0)},installObserver:function(){this.observer=new t(this.styleWatcher.bind(this)).observe(document,{subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})},install:function(){this.installEndEvents(),this.installStartEvents(),this.installObserver()}},window.Hammer.time.install()}}();