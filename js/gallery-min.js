function collectionFilter(){jQuery(".filter-style-select option:gt(0)").remove();var e=jQuery(".filter-collection-select").val();if("all"===e)Object.keys(options).forEach(function(e){options[e].forEach(function(e){jQuery(".filter-style-select").append('<option value="'+e+'">'+e+"</option>")})});else for(var o=options[e],a=0;a<o.length;a++)jQuery(".filter-style-select").append('<option value="'+o[a]+'">'+o[a]+"</option>");jQuery(".filter-style-select").trigger("chosen:updated")}function styleFilter(){var e=jQuery(".filter-style-select").val();if("all"!=e){for(var o in options){if(getKeyByValue(options[o],e)){var a=o;console.log(a);break}}jQuery(".filter-collection-select option[value="+a+"]").attr("selected","selected")}jQuery(".filter-collection-select").trigger("chosen:updated")}function getKeyByValue(e,o){return Object.keys(e)[Object.values(e).indexOf(o)]}jQuery(document).ready(function($){kinesis.isInitialized||kinesis.initialize();var e=480,o=$(".gallery-image-container"),a=o.find(".gallery-image").length,l="/wp-json/wp/v2/gallery",t=1,r=a||20,i=351,n=9999,s=!a,d=function(e,o,a){var l=$("<a/>",{class:"gallery-image",href:"javascript:void(0);","data-full-img":o}),t=$("<img/>",{src:a,alt:e||"Image"});return Math.random()>.75&&l.addClass("double-sized"),l.append(t)},c=function(){t=1,n=9999},g={itemSelector:".gallery-image",columnWidth:200,isFitWidth:!0,gutter:20},f=!1,m=function(){if(!(t>n)){var e={page:t,per_page:r,exclude:351},a=$(".filter-collection-select").val(),i=$(".filter-style-select").val();"all"!=a.toLowerCase()&&(e.type_of_wheel=a),"all"!=i.toLowerCase()&&(e.wheel_style=i),$.ajax({url:l,data:e}).done(function(e,a,l){if(o.find(".loader-center-middle").remove(),$("body").find(".gallery-load-more").length&&$("body").find(".gallery-load-more").removeClass("k-loading"),n=l.getResponseHeader("X-WP-TotalPages"),1==t&&!e.length)return void $("<div/>",{class:"text-center coming-soon-wrap"}).css({"margin-top":"20px"}).append($("<span/>",{class:"alert alert-danger",text:"Images Coming Soon...",role:"alert"})).insertBefore(o);if(e.length){var r=kinesis.utils.getViewport().width;if(s)for(var i=0;i<e.length;i++){var c=e[i];if(c.acf){var m=c.title.rendered,p=c.acf.gallery_image,y=c.acf.gallery_image,u=d(m,p,y);o.append(u),f&&r>=480&&o.masonry("appended",u).imagesLoaded().progress(function(){o.masonry("layout")})}}else s=!0;!f&&r>=480&&(o.masonry(g),o.imagesLoaded().progress(function(){o.masonry("layout")}),f=!0)}if(1==t&&t<n&&($loadMoreWrap=$("<p/>",{class:"text-center load-more-wrap"}),$loadMoreBtn=$("<a/>",{href:"javascript:void(0);",text:"Load More",class:"gallery-load-more btn k-btn-transparent k-btn-extra-long text-uppercase k-btn-red"}),$loadMoreBtn.prepend($("<img />",{class:"ajax-loading-icon",src:"/wp-content/themes/kinesismotorsport/icons/spinning-circles-red.svg"})),$loadMoreWrap.append($loadMoreBtn).insertAfter(o)),t>1&&t==n){var v=$("<span/>",{class:"alert alert-info",text:"No More Images",role:"alert"});$("body").find(".gallery-load-more").replaceWith(v),setTimeout(function(){$("body").find(".load-more-wrap").fadeOut(300,function(){$(this).remove()})},2e3)}t++})}};m(),$("body").on("click",".gallery-load-more",function(){$(this).addClass("k-loading"),m()}),$(".filter-block-wrap .filter-select").on("change",function(){var e=$(this),a=e.val();f&&o.empty().masonry("destroy"),o.append($("<img />",{src:"/wp-content/themes/kinesismotorsport/icons/spinning-circles-red.svg",class:"loader-center-middle"})),f=!1,$("body").find(".load-more-wrap, .coming-soon-wrap").remove(),c(),m()}),setTimeout(function(){$(".filter-select").chosen({disable_search:!0})},600),$("body").on("click",".gallery-image",function(){var e=$(this),o=e.data("full-img"),a=$(".gallery-modal").find(".modal-body");a.find(".modal-gallery-image").remove(),$(".gallery-modal").modal("show"),a.prepend($("<img/>",{class:"modal-gallery-image",src:o})),a.find(".modal-image-loader").show(),a.find(".modal-gallery-image").imagesLoaded().progress(function(){a.find(".modal-image-loader").hide()})}),$(window).on("resize orientationchange",function(){kinesis.utils.getViewport().width<480?f&&(o.masonry("destroy"),f=!1):f||(o.masonry(g),o.imagesLoaded().progress(function(){o.masonry("layout")}),f=!0)})});